<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:sling="http://sling.apache.org/jcr/sling/1.0" xmlns:granite="http://www.adobe.com/jcr/granite/1.0" xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:nt="http://www.jcp.org/jcr/nt/1.0"
    jcr:primaryType="cq:Page">
    <v2/>
    <metadataeditor/>
    <jcr:content jcr:primaryType="nt:unstructured">
        <actions jcr:primaryType="nt:unstructured">
            <secondary jcr:primaryType="nt:unstructured">
                <create jcr:primaryType="nt:unstructured">
                    <items jcr:primaryType="nt:unstructured">
                        <ugc
                            granite:class="dam-create-fragment"
                            jcr:primaryType="nt:unstructured"
                            sling:hideResource="{Boolean}true"
                            sling:resourceType="granite/ui/components/coral/foundation/collection/actionlink"
                            action="dam-create-fragment"
                            icon="facebookCoverImage"
                            text="Import UGC">
                            <data
                                jcr:primaryType="nt:unstructured"
                                wizard.url="/mnt/overlay/social/integrations/livefyre/aem-livefyre/admin/content/ugcImporter.html"/>
                        </ugc>
                        <createfolder
                            granite:class="dam-create-folder"
                            granite:id="dam-create-folder"
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="granite/ui/components/coral/foundation/collection/actionlink"
                            icon="folderAdd"
                            text="Folder">
                        </createfolder>
                        <createmedias
                            granite:class="dam-create-folder"
                            granite:id="dam-create-folder-1"
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="granite/ui/components/coral/foundation/collection/actionlink"
                            icon="folderAdd"
                            text="Media">
                        </createmedias>
                        <fileupload
                            granite:class="cq-damadmin-admin-assets-upload"
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="dam/gui/coral/components/commons/fileupload/action"
                            chunkSize="52428800"
                            chunkUploadMinFileSize="524288000"
                            chunkUploadSupported="{Boolean}true"
                            dragDropSupported="{Boolean}true"
                            fileNameParameter="fileName"
                            icon="upload"
                            multiple="{Boolean}true"
                            name="file"
                            parallelUploads="{Boolean}false"
                            sizeLimit="10737418240"
                            text="Assets"/>
                        <folderupload
                            granite:class="dam-asset-desktop-action"
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="granite/ui/components/coral/foundation/collection/actionlink"
                            icon="folder"
                            text="Upload Folder">
                            <granite:data
                                jcr:primaryType="nt:unstructured"
                                href-query="?action=upload"
                                use-current-path="true"/>
                            <granite:rendercondition
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="dam/gui/coral/components/admin/renderconditions/userprop"
                                property="preferences/showAssetDesktopLinks"
                                value="true"/>
                        </folderupload>
                        <createfragment
                            granite:class="dam-create-fragment"
                            jcr:primaryType="nt:unstructured"
                            sling:hideResource="{Boolean}true"
                            sling:resourceType="granite/ui/components/coral/foundation/collection/actionlink"
                            action="dam-create-fragment"
                            icon="tableHistogram"
                            text="Content Fragment">
                            <data
                                jcr:primaryType="nt:unstructured"
                                wizard.url="/mnt/overlay/dam/cfm/admin/content/v2/createfragment.html"/>
                            <granite:rendercondition
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="dam/gui/components/admin/renderconditions/fragmentsenabled"/>
                        </createfragment>
                        <createlivecopy
                            granite:rel="cq-damadmin-admin-actions-createlivecopy"
                            jcr:primaryType="nt:unstructured"
                            sling:hideResource="{Boolean}true"
                            sling:resourceType="granite/ui/components/coral/foundation/collection/actionlink"
                            action="foundation.link"
                            href="/mnt/overlay/dam/gui/content/assets/createlivecopywizard.html${granite:encodeURIPath(requestPathInfo.suffix)}"
                            icon="pages"
                            rel="cq-damadmin-admin-createlivecopy"
                            relScope="collection"
                            target=".cq-siteadmin-admin-childpages"
                            text="Live Copy">
                            <data
                                jcr:primaryType="nt:unstructured"
                                href.uritemplate="/mnt/overlay/dam/gui/content/assets/createlivecopywizard.html{+id}"/>
                        </createlivecopy>
                        <createimageset
                            granite:class="dm-create-set"
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="granite/ui/components/coral/foundation/hyperlink"
                            href="/mnt/overlay/dam/gui/content/s7dam/sets/editor.html${granite:encodeURIPath(requestPathInfo.suffix)}?settype=imageset"
                            icon="imageAlbum"
                            text="Image Set">
                            <granite:rendercondition
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/foundation/renderconditions/or">
                                <condition1
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="granite/ui/components/foundation/renderconditions/feature"
                                    feature="com.adobe.dam.asset.dynamicmedia.feature.flag"/>
                                <condition2
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="granite/ui/components/foundation/renderconditions/feature"
                                    feature="com.adobe.dam.asset.scene7.feature.flag"/>
                            </granite:rendercondition>
                        </createimageset>
                        <createspinset
                            granite:class="dm-create-set"
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="granite/ui/components/coral/foundation/hyperlink"
                            href="/mnt/overlay/dam/gui/content/s7dam/sets/editor.html${granite:encodeURIPath(requestPathInfo.suffix)}?settype=spinset"
                            icon="ungroup"
                            text="Spin Set">
                            <granite:rendercondition
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/foundation/renderconditions/or">
                                <condition1
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="granite/ui/components/foundation/renderconditions/feature"
                                    feature="com.adobe.dam.asset.dynamicmedia.feature.flag"/>
                                <condition2
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="granite/ui/components/foundation/renderconditions/feature"
                                    feature="com.adobe.dam.asset.scene7.feature.flag"/>
                            </granite:rendercondition>
                        </createspinset>
                        <createmmset
                            granite:class="dm-create-set"
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="granite/ui/components/coral/foundation/hyperlink"
                            href="/mnt/overlay/dam/gui/content/s7dam/sets/editor.html${granite:encodeURIPath(requestPathInfo.suffix)}?settype=mixedmediaset"
                            icon="asset"
                            text="Mixed Media Set">
                            <granite:rendercondition
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/foundation/renderconditions/or">
                                <condition1
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="granite/ui/components/foundation/renderconditions/feature"
                                    feature="com.adobe.dam.asset.dynamicmedia.feature.flag"/>
                                <condition2
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="granite/ui/components/foundation/renderconditions/feature"
                                    feature="com.adobe.dam.asset.scene7.feature.flag"/>
                            </granite:rendercondition>
                        </createmmset>
                        <createcarousel
                            granite:class="dm-create-set"
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="granite/ui/components/coral/foundation/hyperlink"
                            href="/mnt/overlay/dam/gui/content/s7dam/sets/carousel/editor.html"
                            icon="imageCarousel"
                            text="Carousel Set">
                            <granite:rendercondition
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/foundation/renderconditions/or">
                                <condition1
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="granite/ui/components/foundation/renderconditions/feature"
                                    feature="com.adobe.dam.asset.dynamicmedia.feature.flag"/>
                                <condition2
                                    jcr:primaryType="nt:unstructured"
                                    sling:resourceType="granite/ui/components/foundation/renderconditions/feature"
                                    feature="com.adobe.dam.asset.scene7.feature.flag"/>
                            </granite:rendercondition>
                        </createcarousel>
                        <metadata
                            granite:class="dam-import-metadata"
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="granite/ui/components/coral/foundation/hyperlink"
                            href="/mnt/overlay/dam/gui/content/metadataimport.html"
                            icon="import"
                            text="Metadata"/>
                    </items>
                </create>
            </secondary>
            <selection jcr:primaryType="nt:unstructured">
                <customadhocassetshare
                    granite:rel="cq-damadmin-admin-actions-adhocassetshare-activator"
                    jcr:primaryType="nt:unstructured"
                    sling:orderBefore="adhocassetshare"
                    sling:resourceType="granite/ui/components/coral/foundation/collection/action"
                    action="foundation.dialog"
                    activeSelectionCount="multiple"
                    icon="share"
                    target=".cq-damadmin-admin-childpages"
                    text="Share Link"
                    variant="actionBar">
                    <granite:rendercondition
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/coral/foundation/renderconditions/and">
                        <mainasset
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="dam/gui/coral/components/commons/renderconditions/mainasset"/>
                        <not
                            jcr:primaryType="nt:unstructured"
                            sling:resourceType="granite/ui/components/coral/foundation/renderconditions/not">
                            <cloudrendercondition
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="dam/gui/coral/components/admin/renderconditions/macshare"
                                path="${requestPathInfo.suffix}"/>
                        </not>
                    </granite:rendercondition>
                    <data
                        jcr:primaryType="nt:unstructured"
                        src="/mnt/overlay/dam/gui/content/assets/bnpadhocassetsharedialog.html"/>
                </customadhocassetshare>
            </selection>
        </actions>
    </jcr:content>
    <bnpadhocassetsharedialog
        granite:id="adhocassetshare-dialog"
        granite:rel="adhocassetshare-dialog"
        jcr:primaryType="nt:unstructured"
        jcr:title="Link Sharing"
        sling:resourceType="granite/ui/components/coral/foundation/dialog">
        <items jcr:primaryType="nt:unstructured">
            <dialog
                granite:id="adhocassetshareform"
                jcr:primaryType="nt:unstructured"
                jcr:title="Link Sharing"
                sling:resourceType="granite/ui/components/coral/foundation/form"
                enctype="application/x-www-form-urlencoded"
                id="adhocassetshareform"
                method="POST"
                style="vertical">
                <items jcr:primaryType="nt:unstructured">
                    <charset
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/coral/foundation/form/hidden"
                        ignoreData="{Boolean}true"
                        name="_charset_"
                        value="UTF-8"/>
                    <adduser
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="cq/gui/components/projects/admin/simpletable"
                        id="adhocassetshare-adduser"
                        role="presentation">
                        <items jcr:primaryType="nt:unstructured">
                            <userpicker
                                granite:id="adhocassetshare-userpicker"
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="dam/gui/coral/components/admin/adhocassetshare/userpicker"
                                emptyText="Search/Add Email Address"
                                id="adhocassetshare-userpicker"
                                name="assignee"
                                showDeclaraedGroupMembersOnly="{Boolean}false"
                                sortOn="profile/@givenName"
                                sortOrder="ASCENDING"
                                userGroup="everyone"/>
                            <add
                                granite:class="add-new-user-primary-button"
                                granite:id="add-new-user"
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/coral/foundation/collection/action"
                                class="add-new-user-primary-button"
                                id="add-new-user"
                                text="Add"
                                title="Add"
                                variant="[primary]">
                                <data
                                    jcr:primaryType="nt:unstructured"
                                    href.uritemplate="/mnt/overlay/dam/gui/content/assets/adhocassetsharedialog/items/dialog/items/adduser/items/userpicker.userlist.html{?query,searchById}&amp;_charset_=utf-8"/>
                            </add>
                        </items>
                    </adduser>
                    <members
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="cq/gui/components/projects/admin/simpletable"
                        id="adhocassetshare-members"
                        role="presentation">
                        <items jcr:primaryType="nt:unstructured"/>
                    </members>
                    <sharelink
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="cq/gui/components/projects/admin/simpletable"
                        id="sharelinkrow"
                        role="presentation">
                        <items jcr:primaryType="nt:unstructured">
                            <sharelink
                                granite:class="adhocassetshare-share-link"
                                granite:id="sharelink"
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/coral/foundation/form/textfield"
                                class="adhocassetshare-share-link"
                                fieldLabel="Share Link"
                                id="sharelink"
                                name="shareLink"
                                required="{Boolean}true"/>
                        </items>
                    </sharelink>
                    <nameandexpiration
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="cq/gui/components/projects/admin/simpletable"
                        id="nameandexpiration"
                        role="presentation">
                        <items jcr:primaryType="nt:unstructured">
                            <sharejobname
                                granite:class="adhocassetshare-job-name"
                                granite:id="sharejobname"
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/coral/foundation/form/textfield"
                                class="adhocassetshare-job-name"
                                fieldLabel="Subject"
                                id="sharejobname"
                                name="shareJobName"
                                required="{Boolean}true"/>
                            <expirationdate
                                granite:id="expirationDate"
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/coral/foundation/form/datepicker"
                                disabled="{Boolean}true"
                                displayedFormat="YYYY-MM-DD HH:mm"
                                fieldLabel="Expiration"
                                id="expirationDate"
                                name="expirationDate"
                                readOnly="{Boolean}true"
                                type="datetime"/>
                        </items>
                    </nameandexpiration>
                    <message
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="cq/gui/components/projects/admin/simpletable"
                        id="message"
                        role="presentation">
                        <items jcr:primaryType="nt:unstructured">
                            <sharejobmessage
                                granite:class="adhocassetshare-message"
                                granite:id="adhocassetsharemessage"
                                jcr:primaryType="nt:unstructured"
                                sling:resourceType="granite/ui/components/coral/foundation/form/textarea"
                                class="adhocassetshare-message"
                                emptyText="Optional"
                                fieldLabel="Message"
                                id="adhocassetsharemessage"
                                name="shareMessage"/>
                        </items>
                    </message>
                    <allowOriginal
                        granite:id="adhocassetshare-allowOriginal"
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/coral/foundation/form/checkbox"
                        checked="unchecked"
                        id="adhocassetshare-allowOriginal"
                        text="Allow download of original file"
                        value="{Boolean}true"/>
                    <expiryText
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/coral/foundation/text"
                        text="The above share link will expire in 48 hrs"/>
                    <operation
                        jcr:primaryType="nt:unstructured"
                        sling:resourceType="granite/ui/components/coral/foundation/form/hidden"
                        ignoreData="{Boolean}true"
                        name=":operation"
                        value="dam.adhoc.share"/>
                </items>
            </dialog>
        </items>
        <footer jcr:primaryType="nt:unstructured">
            <close
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/coral/foundation/button"
                text="Close">
                <parentConfig
                    jcr:primaryType="nt:unstructured"
                    close="{Boolean}true"/>
            </close>
            <submit
                granite:class="foundation-toggleable-control"
                granite:id="adhocassetshareform-submit"
                jcr:primaryType="nt:unstructured"
                sling:resourceType="granite/ui/components/coral/foundation/button"
                disabled="{Boolean}true"
                text="Share"
                trackingFeature="aem:assets:asset:share"
                variant="primary"/>
        </footer>
    </bnpadhocassetsharedialog>
</jcr:root>
